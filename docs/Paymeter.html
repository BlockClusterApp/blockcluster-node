<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Paymeter - Postman Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Hyperion.html">Hyperion</a><ul class='methods'><li data-type='method'><a href="Hyperion.html#deleteFile">deleteFile</a></li><li data-type='method'><a href="Hyperion.html#getFile">getFile</a></li><li data-type='method'><a href="Hyperion.html#uploadFile">uploadFile</a></li></ul></li><li><a href="Paymeter.html">Paymeter</a><ul class='methods'><li data-type='method'><a href="Paymeter.html#createWallet">createWallet</a></li><li data-type='method'><a href="Paymeter.html#getDeposits">getDeposits</a></li><li data-type='method'><a href="Paymeter.html#getWallets">getWallets</a></li><li data-type='method'><a href="Paymeter.html#getWithdrawals">getWithdrawals</a></li><li data-type='method'><a href="Paymeter.html#refreshBalance">refreshBalance</a></li><li data-type='method'><a href="Paymeter.html#send">send</a></li></ul></li><li><a href="Platform.html">Platform</a><ul class='methods'><li data-type='method'><a href="Platform.html#acceptInvite">acceptInvite</a></li><li data-type='method'><a href="Platform.html#acceptPrivatehiveChannelInvite">acceptPrivatehiveChannelInvite</a></li><li data-type='method'><a href="Platform.html#createNetwork">createNetwork</a></li><li data-type='method'><a href="Platform.html#createPrivatehiveNetwork">createPrivatehiveNetwork</a></li><li data-type='method'><a href="Platform.html#deleteNetwork">deleteNetwork</a></li><li data-type='method'><a href="Platform.html#deletePrivatehiveNetwork">deletePrivatehiveNetwork</a></li><li data-type='method'><a href="Platform.html#fetchLocations">fetchLocations</a></li><li data-type='method'><a href="Platform.html#fetchNetworkTypes">fetchNetworkTypes</a></li><li data-type='method'><a href="Platform.html#getPrivatehiveNode">getPrivatehiveNode</a></li><li data-type='method'><a href="Platform.html#inviteUserToChannel">inviteUserToChannel</a></li><li data-type='method'><a href="Platform.html#inviteViaEmail">inviteViaEmail</a></li><li data-type='method'><a href="Platform.html#joinNetwork">joinNetwork</a></li><li data-type='method'><a href="Platform.html#listPrivatehiveChannelInvites">listPrivatehiveChannelInvites</a></li><li data-type='method'><a href="Platform.html#listPrivatehiveNetworks">listPrivatehiveNetworks</a></li></ul></li><li><a href="PrivatehiveNode.html">PrivatehiveNode</a><ul class='methods'><li data-type='method'><a href="PrivatehiveNode.html#addChaincode">addChaincode</a></li><li data-type='method'><a href="PrivatehiveNode.html#createChannel">createChannel</a></li><li data-type='method'><a href="PrivatehiveNode.html#fetchChaincodes">fetchChaincodes</a></li><li data-type='method'><a href="PrivatehiveNode.html#fetchChannels">fetchChannels</a></li><li data-type='method'><a href="PrivatehiveNode.html#installChaincode">installChaincode</a></li><li data-type='method'><a href="PrivatehiveNode.html#instantiateChaincode">instantiateChaincode</a></li><li data-type='method'><a href="PrivatehiveNode.html#setOrderer">setOrderer</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Paymeter</h1>
    

    




<section>

<header>
    
        <h2>
        Paymeter
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Paymeter"><span class="type-signature"></span>new Paymeter<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Handles all function related to paymeter</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="createWallet"><span class="type-signature">(async) </span>createWallet<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise.&lt;string>}</span></h4>

    



<div class="description">
    <p>Creates a new wallet in the blockcluster account</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Wallet configuration</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>coinType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Coin type Eg: ETH, ERC20 etc</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>walletName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Name of the wallet</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>network</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Network on which the wallet will function Eg: testnet or mainnet</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Password for the wallet</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contractAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Contract address for ERC20 type token</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tokenSymbol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Symbol for ERC20 token</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Wallet id</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">Creates a wallet</p>
    
    <pre class="prettyprint"><code>const walletId = await paymeter.createWallet({coinType: 'ETH', walletName: 'My ETH Wallet', network: 'mainnet', password: '1234567890' });
console.log(walletId);
// Prints the walletId &lt;random string></code></pre>



        
            

    

    <h4 class="name" id="getDeposits"><span class="type-signature">(async) </span>getDeposits<span class="signature">(walletId)</span><span class="type-signature"> &rarr; {Promise.&lt;array>}</span></h4>

    



<div class="description">
    <p>Fetches all the deposits happend for a wallet</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>walletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Id of the wallet for which the transactions need to be fetched</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line139">line 139</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of deposits</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;array></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">Fetches all deposits for a wallet</p>
    
    <pre class="prettyprint"><code>const deposits = await paymeter.getDeposits('abcdefghi');
console.log(deposits);
// Prints [{...deposit1}, {...}, ...]</code></pre>



        
            

    

    <h4 class="name" id="getWallets"><span class="type-signature">(async) </span>getWallets<span class="signature">(walletId<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(array|object)>}</span></h4>

    



<div class="description">
    <p>Fetches all the wallets or a single wallet details</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>walletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Id of the wallet for the details needs to be fetched. If undefined then fetches all wallets</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An array of wallets or single wallet description</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(array|object)></span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Fetches all wallets</p>
    
    <pre class="prettyprint"><code>const wallets = await paymeter.getWallets();
console.log(wallets);
// Prints [{_id: '...', ...}, ...]</code></pre>

        <p class="code-caption">Fetches details of single wallet</p>
    
    <pre class="prettyprint"><code>const wallet = await paymeter.getWallets('abcdefghi');
console.log(wallet);
// Prints {_id: 'abcdefghi', ...}</code></pre>



        
            

    

    <h4 class="name" id="getWithdrawals"><span class="type-signature">(async) </span>getWithdrawals<span class="signature">(walletId)</span><span class="type-signature"> &rarr; {Promise.&lt;array>}</span></h4>

    



<div class="description">
    <p>Fetches all the withdrawals happend for a wallet</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>walletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Id of the wallet for which the transactions need to be fetched</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line110">line 110</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of withdrawals</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;array></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">Fetches all withdrawals for a wallet</p>
    
    <pre class="prettyprint"><code>const withdrawals = await paymeter.getWithdrawals('abcdefghi');
console.log(withdrawals);
// Prints [{...withdrawal1}, {...}, ...]</code></pre>



        
            

    

    <h4 class="name" id="refreshBalance"><span class="type-signature">(async) </span>refreshBalance<span class="signature">(walletId)</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>

    



<div class="description">
    <p>Force refreshes balance in a wallet. This can be used in case deposits are coming from a smart contract</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>walletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>ID of the wallet to refresh balance of</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line282">line 282</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>True if call succeeded</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="send"><span class="type-signature">(async) </span>send<span class="signature">(options)</span><span class="type-signature"> &rarr; {Promise.&lt;string>}</span></h4>

    



<div class="description">
    <p>Transfers token from a wallet to specified address</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Wallet configuration</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fromWalletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Id of the wallet from which to transfer tokens</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Address to which tokens are to be transferred</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Amount of tokens to be transferred. Maximum of 5 decimal places</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Password for the wallet from which tokens are to be transferred</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>feeWalletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Only for ERC20 tokens, wallet Id from where the transaction fee is to be deducted</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>feeWalletPassword</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Only for ERC20 tokens, password for the feeWallet specified <i>(<b>Required</b> if feeWalletId is specified)</i></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>feeCollectWalletId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Wallet ID to which the gas fees is to be collected</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tokenValueInEth</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Value of ERC20 token in ETH i.e., 1 ERC20 Token = ? ETH <i>(<b>Required</b> if feeCollectWalletId is specified)</i></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sendExactAmount</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>If true, then sends exact amount to the receiver. Total amount debited will be the specified amount + network charges. If false, network charges will be debited from the specified amount</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string(hex)</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Raw transaction data to call functions of smart contract. Only applicable for ETH wallets</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="paymeter_index.js.html">paymeter/index.js</a>, <a href="paymeter_index.js.html#line226">line 226</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Transaction id</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Transfers tokens (Fees debited from the amount specified)</p>
    
    <pre class="prettyprint"><code>const txnId = await paymeter.send({
  fromWalletId: 'wallet1ID',
  toAddress: '0x1234567890abcdef',
  amount: 1,
  password: 'wallet1Password'
});
console.log(txnId);
// Prints 0x...</code></pre>

        <p class="code-caption">Transfers tokens (Fees debited above the specifed amount)</p>
    
    <pre class="prettyprint"><code>const txnId = await paymeter.send({
  fromWalletId: 'wallet1ID',
  toAddress: '0x1234567890abcdef',
  amount: 1,
  password: 'wallet1Password'
  sendExactAmount: true
});
console.log(txnId);
// Prints 0x...</code></pre>

        <p class="code-caption">Transfers token from but fees deducted from another wallet</p>
    
    <pre class="prettyprint"><code>const txnId = await paymeter.send({
  fromWalletId: 'wallet1ID',
  toAddress: '0x1234567890abcdef',
  amount: 1,
  password: 'wallet1Password'
  feeWalletId: 'wallet2ID',
  feeWalletPassword: 'wallet2Password'
});
console.log(txnId);
// Prints 0x...</code></pre>

        <p class="code-caption">Transfers token from with fees credits to separate wallet</p>
    
    <pre class="prettyprint"><code>const txnId = await paymeter.send({
  fromWalletId: 'wallet1ID',
  toAddress: '0x1234567890abcdef',
  amount: 1,
  password: 'wallet1Password'
  feeCollectWalletId: 'wallet3ID',
});
console.log(txnId);
// Prints 0x...</code></pre>

        <p class="code-caption">Transfers token using raw transactions</p>
    
    <pre class="prettyprint"><code>const contractAddress = '0x12341234567890abcd';
const contract = new web3.eth.Contract(abi, contractAddress);
const data = await contract.methods.sign().encodeABI();
const txnId = await paymeter.send({
  fromWalletId: 'wallet4ID',
  password: 'wallet4Password',
  toAddress: contractAddress,
  data: data,
});
console.log(txnId);
// Prints 0x...</code></pre>



        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated at Fri Apr 19 2019 16:06:54 GMT+0530 (IST)
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>